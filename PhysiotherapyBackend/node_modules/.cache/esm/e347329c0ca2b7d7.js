let express,json,urlencoded,cookieParser,mongoose,expressSession,accountRoutes,bookingRoutes,usersRoutes;_0ca‍.w("express",[["default",["express"],function(v){express=v}]]);_0ca‍.w("body-parser",[["json",["json"],function(v){json=v}],["urlencoded",["urlencoded"],function(v){urlencoded=v}]]);_0ca‍.w("cookie-parser",[["default",["cookieParser"],function(v){cookieParser=v}]]);_0ca‍.w("mongoose",[["default",["mongoose"],function(v){mongoose=v}]]);_0ca‍.w("express-session",[["default",["expressSession"],function(v){expressSession=v}]]);_0ca‍.w("./routes/account.js",[["default",["accountRoutes"],function(v){accountRoutes=v}]]);_0ca‍.w("./routes/bookings.js",[["default",["bookingRoutes"],function(v){bookingRoutes=v}]]);_0ca‍.w("./routes/users.js",[["default",["usersRoutes"],function(v){usersRoutes=v}]]);﻿




var MongoStore = require('connect-mongo')(expressSession);



var app = express();
var port = 30000;

var dbName = 'physiotherapy';
var connectionString = 'mongodb://localhost:27017/' + dbName;
mongoose.connect(connectionString, { useNewUrlParser: true, useUnifiedTopology: true });
app.use(expressSession({
    secret: '128013A7-5B9F-4CC0-BD9E-4480B2D3EFE9',
    resave: true,
    saveUninitialized: true,
    store: new MongoStore({
        url: 'mongodb://localhost/physiotherapy',
        ttl: 20 * 24 * 60 * 60 // = 20 days.
    })
}));

app.use(json());
app.use(urlencoded({ extended: true }));
app.use('/api', [accountRoutes, bookingRoutes, usersRoutes]);

var server = app.listen(port, function () {
    _0ca‍.g.console.log('Express server listening on port ' + server.address().port);
});